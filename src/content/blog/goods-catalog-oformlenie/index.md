---
path: "/goods-catalog-oformlenie"
title: "Goods Catalog: собственное оформление каталога"
date: "2014-03-24"
excerpt: "Из этой статьи вы узнаете, как можно настроить в плагине Goods Catalog оформление страниц каталога, и индивидуальные шаблоны для некоторых рубрик."
category: "wordpress"
tags: ""
series: ""
---

Вот уже три недели, как мой [плагин Goods Catalog](http://oriolo.ru/goods-catalog/ "Goods Catalog – плагин каталога товаров для WordPress") выложен в репозиторий плагинов WordPress. На данный момент, его скачали более чем 650 раз, и более чем 80 человек написали мне с письма вопросами, предложениями и багами :) Большое спасибо за обратную связь, для меня это очень важно. Со временем я постараюсь реализовать функции, о которых мне написали, если это возможно. А в этом посте я немного напишу о том, как можно придать индивидуальный вид каталогу на вашем сайте.

## Собственное оформление страниц каталога, рубрик и товаров

Очень часто меня спрашивали о том, как можно внести изменения в стили плагина: поменять цвета, отступы, выравнивание и так далее, чтобы не потерять их при следующем обновлении. Вариантов в этом случае может быть несколько. Менять файл стилей каталога вам не нужно. Вместо этого вы можете

- либо внести изменения в файл стилей используемой темы оформления, и прописать стили для каталога там
- либо, и это более предпочтительный вариант, создать в папке с темой отдельный CSS-файл, и написать дополнительные стили для каталога в нем.

Если вы выбрали второй способ, то тогда нужно будет подключить этот файл к стилям вашей темы. Добавьте в файл style.css темы этот код:

```
@import url(style-googs-catalog.css);
```

style-googs-catalog.css нужно заменить на название файла с дополнительными стилями для каталога.

Теперь при обновлении плагина, стили каталога, которые вы поменяли, останутся на месте.

## Собственные шаблоны для некоторых рубрик в Goods Catalog

Более интересным был вопрос о том, как можно настроить в плагине Goods Catalog индивидуальные шаблоны для некоторых рубрик. Если вы работали с темами для WordPress, то возможно знаете, что если в папке темы создать файл, и назвать его category-26.php, то рубрика, ID которой равен 26, будет загружаться из этого шаблона, а не из общего category.php, как все остальные рубрики.

Внимание! Все изменения, которые вы делаете в коде плагина, вы совершаете на свой страх и риск. Если что-то сломается, то я не смогу вам помочь.

Однако чтобы создать отдельный шаблон страницы для рубрики товаров, нужно будет внести изменения в код плагина. Например, ID рубрики товаров = 26. Чтобы у нее был уникальный шаблон, не похожий на другие рубрики товаров, нужно сделать следующее:

1. в папке с плагином, создать копию файла taxonomy-goods\_category.php, и назвать его taxonomy-goods\_category-26.php
2. создать новый php-файл, назвать его, например, goods-custom.php и в нем прописать функции для этой рубрики
3. импортировать goods-custom.php в goods-cat.php (это основной файл плагина)

Вот код, который нужно вставить в goods-custom.php для создания шаблона отдельной рубрики:

```
// Применяем собственный шаблон для рубрики товаров с ID = 26
add_filter('taxonomy_template', 'goods_category_26_template');
function goods_category_26_template($taxonomy) {
    global $wp_query, $post;
    if (is_tax('goods_category', '26')) {
        if (file_exists(plugin_dir_path(__FILE__) . '/taxonomy-goods_category-26.php'))
            return plugin_dir_path(__FILE__) . '/taxonomy-goods_category-26.php';
    }
    return $taxonomy;
}
```

В выделенных строках вместо 26 нужно написать ID вашей рубрики. Если рубрик с уникальными шаблонами должно быть несколько, то этот код нужно скопировать в файле goods-custom.php несколько раз, и поменять ID. Также нужно будет создать несколько копий файла taxonomy-goods\_category.php.

Затем импортируем goods-custom.php в goods-cat.php. В последнем файле, в самом низу добавьте:

```
include ( plugin_dir_path(__FILE__) . 'goods-custom.php' );
```

После этого для этого ID будет загружаться отдельный шаблон.

Внимание! Перед обновлением плагина до новой версии, вам нужно будет делать резервную копию всех файлов, в которые были внесены изменения, и всех новых файлов, то есть goods-custom.php, и всех шаблонов для рубрик taxonomy-goods\_category-{ID}.php. В противном случае, во всемя обновления все ваши изменения будут утеряны

На сегодня все :) Если у вас есть какие-то вопросы, задавайте их в комментариях. Я постараюсь ответить на все, кроме тех, которые связаны с базовыми навыками работы с CSS (об этом можно почитать и спросить тут: [http://htmlbook.ru](http://htmlbook.ru)).
